<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Profile</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/profile.css">
  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">
  <!-- Boxicons CDN Link -->
  <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Script -->
  <script type="text/javascript" src="js/profile.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/ag-charts-community@7.1.0/dist/ag-charts-community.min.js"></script>
  <script>
    window.addEventListener('load', function () {
      renderUserBanner();
      getProfile();
      renderFavList();
    })
  </script>
  <link rel="stylesheet" href="css/stock.css">
</head>

<body>
  <div class="sidebar">
    <div class="logo-details">
      <i class="bi bi-boxes"></i>
      <span class="logo_name">StocksLab</span>
    </div>
    <ul class="nav-links">
      <li>
        <a href="/">
          <i class="bi bi-grid"></i>
          <span class="links_name">Dashboard</span>
        </a>
      </li>
      <li>
        <a href="/graph?symbol=AAPL">
          <i class="bi bi-bar-chart-fill"></i>
          <span class="links_name">Stocks</span>
        </a>
      </li>
      <li>
        <a href="/crypto">
          <i class="bi bi-currency-bitcoin"></i>
          <span class="links_name">Crypto</span>
        </a>
      </li>
      <li id="prof_sidebar">
        <a href="/profile" class="active">
          <i class="bi bi-person"></i>
          <span class="links_name">Profile</span>
        </a>
      </li>
    </ul>
  </div>

  <!-- <div id="loader"></div> -->
  <section class="home-section">
    <nav>
      <div class="sidebar-button">
        <i class='bx bx-menu sidebarBtn'></i>
        <span class="dashboard">Profile</span>
      </div>

      <div class="dropdown" id="unknown">
        <a class="button-dropdown"><i class="bi bi-person"></i></a>
        <ul>
          <li><a href="/signin">Login</a></li>
          <li><a href="/signup">Signup</a></li>
        </ul>
      </div>

      <div class="dropdown" id="signed">
        <a class="button-dropdown" id="profile-name"></a>
        <ul>
          <li><a href="/profile">Profile</a></li>
          <li><a href="#" onclick="logout();">Logout</a></li>
        </ul>
      </div>
    </nav>
    <div class="home-content">
      <div class="profile-container">
        <div class="left-container">
          <div class="img-container">
            <div class="image" id="image"></div>
          </div>
          <div class="left">
            <div class="name" id="left-name"></div>
            <div class="email" id="left-email"></div>
            <div class="delete"><a href="#" onclick="deleteAccount();">Delete account</a></div>
          </div>
        </div>
        <div class="right">
          <div class="title-container">
            <div class="title">User Information</div>
            <button id="edit" class="edit-btn" onclick="edit()"><i class="bi bi-pencil-square"></i></button>
            <button id="save" class="edit-btn" style="display: none;" onclick="save()"><i class="bi bi-check2-square"></i></button>
          </div>
          <div class="information-container">
            <div class="row">
              <div class="col-right">
                <div class="form-group">
                  <label>Username</label>
                  <input type="text" id="input-username" class="form-control form-control-alternative"
                    placeholder="Username" readonly>
                </div>
              </div>
              <div class="col-left">
                <div class="form-group">
                  <label>Email address</label>
                  <input type="email" id="input-email" class="form-control form-control-alternative"
                    placeholder="Email address" readonly>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-right">
                <div class="form-group">
                  <label>First name</label>
                  <input type="text" id="input-first-name" class="form-control form-control-alternative"
                    placeholder="First name" readonly>
                </div>
              </div>
              <div class="col-left">
                <div class="form-group">
                  <label>Last name</label>
                  <input type="text" id="input-last-name" class="form-control form-control-alternative"
                    placeholder="Last name" readonly>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-right">
                <div class="form-group">
                  <label>Password</label>
                  <input type="password" id="input-password" class="form-control form-control-alternative"
                         placeholder="Password" readonly>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label>About Me</label>
              <textarea id="desc" rows="5" class="form-control form-control-alternative"
                placeholder="A few words about you ..." readonly></textarea>
            </div>
            <div class="row">
              <div class="col-right">
                <div class="form-group">
                  <label>Favorite Stocks</label>
                  <ul id="favorites-list"></ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <script>
    let sidebar = document.querySelector(".sidebar");
    let sidebarBtn = document.querySelector(".sidebarBtn");

    sidebarBtn.onclick = function () {
      sidebar.classList.toggle("active");
      if (sidebar.classList.contains("active")) {
        sidebarBtn.classList.replace("bx-menu", "bx-menu-alt-right");
      } else
        sidebarBtn.classList.replace("bx-menu-alt-right", "bx-menu");
    }
  </script>
</body>

</html>
